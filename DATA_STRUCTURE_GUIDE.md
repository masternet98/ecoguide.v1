# EcoGuide.v1 ë°ì´í„° êµ¬ì¡° ë° Git ê´€ë¦¬ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

EcoGuide.v1ì€ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ Gitìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” ë°ì´í„° êµ¬ì¡°, Git ê´€ë¦¬ ì •ì±…, ë°°í¬ ì‹œ ë°ì´í„° ìœ ì§€ ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
ecoguide.v1/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ prompts/                    # âœ… Git ê´€ë¦¬ (í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿)
â”‚       â”œâ”€â”€ templates/              # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ (UUID ì´ë¦„)
â”‚       â”‚   â”œâ”€â”€ 14d2ce15-8127-...json  # ë°°ì¶œì •ë³´ í”„ë¡¬í”„íŠ¸
â”‚       â”‚   â”œâ”€â”€ 9c063a86-23a1-...json  # ìˆ˜ìˆ˜ë£Œ ì •ë³´ í”„ë¡¬í”„íŠ¸
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ features/               # ê¸°ëŠ¥ ì„¤ì •
â”‚       â”‚   â”œâ”€â”€ feature_config.json
â”‚       â”‚   â””â”€â”€ prompt_feature_registry.json
â”‚       â”œâ”€â”€ mappings/               # ê¸°ëŠ¥ ë§¤í•‘
â”‚       â”‚   â””â”€â”€ feature_mappings.json
â”‚       â”œâ”€â”€ stats/                  # ì‚¬ìš© í†µê³„
â”‚       â”‚   â””â”€â”€ usage_stats.json
â”‚       â””â”€â”€ backups/                # âŒ Git ë¬´ì‹œ (ë°±ì—… íŒŒì¼)
â”‚
â”œâ”€â”€ uploads/                        # âœ… Git ê´€ë¦¬ (ë¼ë²¨ ë°ì´í„°ë§Œ)
â”‚   â”œâ”€â”€ labels/                     # ë¼ë²¨ ë°ì´í„° (JSON)
â”‚   â”‚   â”œâ”€â”€ _index.json
â”‚   â”‚   â””â”€â”€ *.json
â”‚   â”œâ”€â”€ user_images/                # âŒ Git ë¬´ì‹œ (ì´ë¯¸ì§€ íŒŒì¼)
â”‚   â”œâ”€â”€ dong_cache/                 # âŒ Git ë¬´ì‹œ (ìºì‹œ)
â”‚   â””â”€â”€ temp/                       # âŒ Git ë¬´ì‹œ (ì„ì‹œ íŒŒì¼)
â”‚
â”œâ”€â”€ models/                         # âŒ Git ë¬´ì‹œ (AI ëª¨ë¸ íŒŒì¼)
â””â”€â”€ logs/                           # âŒ Git ë¬´ì‹œ (ë¡œê·¸ íŒŒì¼)
```

---

## ğŸ”‘ Git ê´€ë¦¬ ì •ì±…

### âœ… Gitì— í¬í•¨í•˜ëŠ” íŒŒì¼

| í•­ëª© | ê²½ë¡œ | ì´ìœ  | í¬ê¸° |
|------|------|------|------|
| **í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿** | `data/prompts/templates/` | ë°°í¬ í›„ í•„ìˆ˜ | ~50KB |
| **ê¸°ëŠ¥ ì„¤ì •** | `data/prompts/features/` | ë°°í¬ í›„ í•„ìˆ˜ | ~10KB |
| **ë§¤í•‘ ì„¤ì •** | `data/prompts/mappings/` | ë°°í¬ í›„ í•„ìˆ˜ | ~5KB |
| **ë¼ë²¨ ë°ì´í„°** | `uploads/labels/` | ë°ì´í„° ê´€ë¦¬ | ~100KB |
| **ë¼ë²¨ ì¸ë±ìŠ¤** | `uploads/labels/_index.json` | ë©”íƒ€ë°ì´í„° | ~5KB |

### âŒ Gitì— ì œì™¸í•˜ëŠ” íŒŒì¼

| í•­ëª© | ê²½ë¡œ | ì´ìœ  | í¬ê¸° |
|------|------|------|------|
| **ì‚¬ìš©ì ì´ë¯¸ì§€** | `uploads/user_images/` | ê°œì¸ì •ë³´, ìš©ëŸ‰ | ìˆ˜ë°± MB |
| **AI ëª¨ë¸** | `models/` | ìš©ëŸ‰ í¼ | ìˆ˜ë°± MB |
| **ë°±ì—… íŒŒì¼** | `data/prompts/backups/` | ì„ì‹œ ë°ì´í„° | ìˆ˜ì‹­ MB |
| **ìºì‹œ** | `uploads/*/cache/` | ì„ì‹œ ë°ì´í„° | ê°€ë³€ |
| **ë¡œê·¸** | `logs/` | ëŸ°íƒ€ì„ ë°ì´í„° | ê°€ë³€ |
| **í™˜ê²½ë³€ìˆ˜** | `.env` | ë³´ì•ˆ ìœ„í—˜ | - |

---

## ğŸ”„ ë°°í¬ ì‹œë‚˜ë¦¬ì˜¤ë³„ ë°ì´í„° íë¦„

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë¡œì»¬ ê°œë°œ
```
ë¡œì»¬ ë¨¸ì‹ 
â”œâ”€â”€ .env (ë¡œì»¬ë§Œ, Git ì œì™¸)
â”œâ”€â”€ data/prompts/ (Git ê´€ë¦¬, ìë™ ì‚¬ìš©)
â”œâ”€â”€ uploads/labels/ (Git ê´€ë¦¬)
â””â”€â”€ uploads/user_images/ (ë¡œì»¬ë§Œ, ê°œë°œìš©)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: Streamlit Cloud ë°°í¬
```
GitHub ì €ì¥ì†Œ
â”œâ”€â”€ data/prompts/ âœ… â†’ Streamlit Cloud ìë™ ë‹¤ìš´ë¡œë“œ
â”œâ”€â”€ uploads/labels/ âœ… â†’ Cloud ìë™ ë¡œë“œ
â””â”€â”€ .env (âŒ GitHubì— ë¯¸í¬í•¨, Cloud Secrets ì‚¬ìš©)

Streamlit Cloud
â”œâ”€â”€ ìë™ìœ¼ë¡œ data/prompts/ ë¡œë“œ
â”œâ”€â”€ ìë™ìœ¼ë¡œ uploads/labels/ ë¡œë“œ
â”œâ”€â”€ Secretsì—ì„œ API í‚¤ ë¡œë“œ
â””â”€â”€ ì™„ë²½í•˜ê²Œ ì‘ë™ âœ…
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: Docker ë°°í¬
```
Docker ì´ë¯¸ì§€ ë¹Œë“œ
â”œâ”€â”€ Dockerfile: data/prompts/ ë³µì‚¬
â”œâ”€â”€ Dockerfile: uploads/labels/ ë³µì‚¬
â””â”€â”€ docker-compose.yml: .env í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©

ì»¨í…Œì´ë„ˆ ì‹¤í–‰
â”œâ”€â”€ ëª¨ë“  í”„ë¡¬í”„íŠ¸ íŒŒì¼ ì‚¬ìš© ê°€ëŠ¥
â”œâ”€â”€ ë¼ë²¨ ë°ì´í„° ë§ˆìš´íŠ¸
â””â”€â”€ ì™„ë²½í•˜ê²Œ ì‘ë™ âœ…
```

---

## ğŸ“Š í”„ë¡¬í”„íŠ¸ íŒŒì¼ êµ¬ì¡°

### í…œí”Œë¦¿ íŒŒì¼ í˜•ì‹

```json
{
  "template_id": "14d2ce15-8127-4b77-9be4-a0cb56600ead",
  "name": "ë°°ì¶œì •ë³´ ì¡°íšŒ",
  "description": "í–‰ì •êµ¬ì—­ ê¸°ë°˜ ë°°ì¶œì •ë³´ ì¡°íšŒ í”„ë¡¬í”„íŠ¸",
  "version": "1.0",
  "type": "disposal_guidance",
  "variables": ["district_context", "object_info"],
  "content": "í–‰ì •êµ¬ì—­: {district_context}\në¬¼í’ˆ: {object_info}\n...",
  "max_tokens": 2048,
  "created_at": "2025-09-11T...",
  "updated_at": "2025-10-27T..."
}
```

### ë“±ë¡ëœ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ID (ì²˜ìŒ 8ê¸€ì) | ì´ë¦„ | ìš©ë„ | ë³€ìˆ˜ |
|-----------------|------|------|------|
| `14d2ce15...` | ë°°ì¶œì •ë³´ ì¡°íšŒ | ì§€ìì²´ ë°°ì¶œ ì •ë³´ ê²€ìƒ‰ | district_context, object_info |
| `9c063a86...` | ìˆ˜ìˆ˜ë£Œ ì •ë³´ | ì²˜ë¦¬ ìˆ˜ìˆ˜ë£Œ ê³„ì‚° | object_info, district_context |
| `ca7a6fc5...` | ë¶„ë¥˜ ê¸°ë³¸ | íê¸°ë¬¼ ê¸°ë³¸ ë¶„ë¥˜ | object_description |
| `25ff6989...` | ë¶„ë¥˜ ê³ ê¸‰ | ê³ ê¸‰ ë¶„ë¥˜ ì¶”ë¡  | object_description, context |
| `53099b76...` | ì´ë¯¸ì§€ ë¶„ì„ | ì´ë¯¸ì§€ ê¸°ë°˜ ë¶„ì„ | image_context |
| `8c3e474d...` | í™•ì¸ ë° ìˆ˜ì • | ì‚¬ìš©ì í™•ì¸ìš© | classification_result |
| `7d9b54a4...` | ê¸°ë³¸ ë¶„ì„ | ê¸°ë³¸ AI ë¶„ì„ | object_description |

---

## ğŸ” ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ

### ë¯¼ê°í•œ íŒŒì¼ (Git ì œì™¸)

```bash
# .gitignoreì— ì´ë¯¸ í¬í•¨ëœ í•­ëª©
.env                    # API í‚¤, ë¹„ë°€ë²ˆí˜¸
uploads/user_images/    # ì‚¬ìš©ì ì´ë¯¸ì§€ (ê°œì¸ì •ë³´)
uploads/temp/          # ì„ì‹œ ì—…ë¡œë“œ
models/                # AI ëª¨ë¸ (ìš©ëŸ‰)
logs/                  # ì‹¤í–‰ ë¡œê·¸
```

### í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

**ë¡œì»¬ ê°œë°œ:**
```bash
cp .env.example .env
# .env íŒŒì¼ì— ì‹¤ì œ í‚¤ ì…ë ¥ (Git ì œì™¸)
```

**ë°°í¬ í™˜ê²½:**
```bash
# Streamlit Cloud
ì•± ì„¤ì • â†’ Secrets â†’ .streamlit/secrets.toml ë‚´ìš© ì…ë ¥

# Docker/Heroku
docker-compose.ymlì—ì„œ environment ì„¹ì…˜ìœ¼ë¡œ ê´€ë¦¬
```

---

## ğŸš€ ë°°í¬ í›„ ë°ì´í„° ìœ ì§€ í™•ì¸

### Streamlit Cloud ë°°í¬ í›„ í™•ì¸

```bash
# 1. ì•±ì´ ì •ìƒ ë¡œë“œë˜ëŠ”ê°€?
âœ… ì´ˆê¸° ë¡œë“œ í™”ë©´ í‘œì‹œ

# 2. í”„ë¡¬í”„íŠ¸ê°€ ë¡œë“œë˜ì—ˆëŠ”ê°€?
âœ… ì´ë¯¸ì§€ ë¶„ì„ ê¸°ëŠ¥ ì‘ë™

# 3. ë¼ë²¨ ë°ì´í„°ê°€ ìˆëŠ”ê°€?
âœ… ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ë¼ë²¨ ì¡°íšŒ ê°€ëŠ¥

# 4. í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì—ˆëŠ”ê°€?
âœ… API í‚¤ ì‚¬ìš© ê°€ëŠ¥ (í”„ë¡¬í”„íŠ¸ ë Œë”ë§ ì„±ê³µ)
```

### Docker ë°°í¬ í›„ í™•ì¸

```bash
# 1. ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸
docker-compose logs ecoguide

# 2. í”„ë¡¬í”„íŠ¸ íŒŒì¼ í™•ì¸
docker exec ecoguide-ecoguide-1 ls -la /app/data/prompts/templates/

# 3. ì•± ì ‘ê·¼
curl http://localhost:8080
```

---

## ğŸ“ ë°ì´í„° ê´€ë¦¬ ì›Œí¬í”Œë¡œìš°

### í”„ë¡¬í”„íŠ¸ ìˆ˜ì • ì ˆì°¨

```
1. ë¡œì»¬ì—ì„œ í”„ë¡¬í”„íŠ¸ ìˆ˜ì •
   â”œâ”€â”€ UIì—ì„œ ìˆ˜ì • ë˜ëŠ”
   â””â”€â”€ íŒŒì¼ ì§ì ‘ í¸ì§‘

2. data/prompts/ íŒŒì¼ ë³€ê²½
   â””â”€â”€ ìë™ìœ¼ë¡œ data/prompts/templates/*.json ìˆ˜ì •

3. Gitì— ì»¤ë°‹
   git add data/prompts/
   git commit -m "feat: í”„ë¡¬í”„íŠ¸ ê°œì„ "

4. GitHub í‘¸ì‹œ
   git push

5. ë°°í¬ í™˜ê²½ ìë™ ë°˜ì˜
   Streamlit Cloud: ìë™ ì¬ë°°í¬
   Docker: ì´ë¯¸ì§€ ì¬ë¹Œë“œ ì‹œ ë°˜ì˜
```

### ë¼ë²¨ ë°ì´í„° ì¶”ê°€ ì ˆì°¨

```
1. ê´€ë¦¬ìê°€ ë¼ë²¨ë§ ìˆ˜í–‰
   â””â”€â”€ uploads/labels/_index.json ìë™ ì—…ë°ì´íŠ¸

2. Gitì— ì»¤ë°‹ (ì£¼ê¸°ì )
   git add uploads/labels/
   git commit -m "feat(labels): ìƒˆ ë¼ë²¨ ë°ì´í„° ì¶”ê°€"

3. GitHub í‘¸ì‹œ
   git push

4. ë°°í¬ í™˜ê²½ì— ë°˜ì˜
   âœ… ë‹¤ìŒ ë°°í¬ ì‹œ ìë™ í¬í•¨
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: ë°°í¬ í›„ í”„ë¡¬í”„íŠ¸ ì‚¬ë¼ì§

**ì›ì¸:** `data/` ë””ë ‰í† ë¦¬ê°€ `.gitignore`ì— í¬í•¨ë˜ì–´ ìˆìŒ

**í•´ê²°:**
```bash
# í™•ì¸
git check-ignore -v data/prompts/templates/14d2ce15-8127-...json

# ìˆ˜ì •
# .gitignoreì—ì„œ data/ ì œì™¸ ì²˜ë¦¬
# data/prompts/ íŒŒì¼ ì¶”ê°€
git add data/prompts/
```

### ë¬¸ì œ 2: ìš©ëŸ‰ì´ ë„ˆë¬´ í¼

**ì›ì¸:** ì‚¬ìš©ì ì´ë¯¸ì§€ë‚˜ ëª¨ë¸ íŒŒì¼ì´ Gitì— í¬í•¨ë¨

**í•´ê²°:**
```bash
# .gitignore í™•ì¸
grep -n "uploads/user_images\|models/" .gitignore

# í° íŒŒì¼ ì œê±°
git rm -r --cached uploads/user_images/
git commit -m "Remove large image files"
```

### ë¬¸ì œ 3: ë°±ì—… íŒŒì¼ì´ ê³„ì† ì¶”ê°€ë¨

**ì›ì¸:** `data/prompts/backups/`ê°€ Gitì— ì¶”ê°€ë¨

**í•´ê²°:**
```bash
# .gitignoreì— ë°±ì—… í´ë” ì¶”ê°€
echo "data/prompts/backups/" >> .gitignore

# ì´ë¯¸ ì¶”ê°€ëœ íŒŒì¼ ì œê±°
git rm -r --cached data/prompts/backups/
git commit -m "Remove prompt backups from git"
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ ê°€ì´ë“œ](instructions/comprehensive_development_guidelines.md)
- [ë°°í¬ ê°€ì´ë“œ](DEPLOYMENT_GUIDE.md)
- [ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](instructions/architecture_development_guidelines.md)

---

**Last Updated:** 2025-10-28
**Git Managed Files:** 12ê°œ (í”„ë¡¬í”„íŠ¸ + ë¼ë²¨ ë°ì´í„°)
**Total Size:** ~150KB (ë°°í¬ ìš©)
